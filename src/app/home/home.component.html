<section *ngIf="purchase$ | async as purchase" class="new">
	<div class="new__left">
		<app-picture [cover]="purchase.item.cover" [imageFolder]="'release-cover/'"></app-picture>
	</div>

	<div class="new__right">
		<mk-heading
			*ngIf="purchase.title"
			[title]="purchase.title"
			[subTitle]="purchase.subtitle">
		</mk-heading>

		<div class="new__title">{{purchase.item.title}}</div>

		<div class="new__sub-title">{{purchase.item.subtitle}}</div>

		<a *ngIf="purchase.item.button"
			[routerLink]="purchase.item.button?.routerLink"
			[attr.disabled]="!purchase.item.button?.routerLink"
			class="btn btn--light"
		>
			{{purchase.item.button?.title}}
		</a>
	</div>
</section>

<!-- <section *ngIf="_purchase$ | async as purchase" class="hero-wrapper">
	<div *ngIf="purchase.title" class="heading">
		<div class="heading__title"> {{ purchase.title }}</div>
	</div>

	<div class="hero" [class.hero--only-cover]="!purchase.deals.length">
		<div class="hero__image-wrapper">
			<div class="hero__image">
				<app-picture [cover]="purchase.item.cover" [class]="'hero__image'" [imageFolder]="'release-cover/'">
				</app-picture>
			</div>
			<div class="hero__image-title">{{purchase.item.title}}</div>
			<div class="hero__image-sub-title">{{purchase.item.subtitle}}</div>
			<a [routerLink]="purchase.item.button.routerLink" class="btn btn--light">{{purchase.item.button.title}}</a>
		</div>

		<div *ngIf="purchase.deals.length" class="hero__content">
			<div class="hero__purchase">
				<div class="package" *ngFor="let deal of purchase.deals" [class.package--highlight]="deal.highlight">
					<div class="package__title">{{deal.title}}</div>
					<div class="package__icon" style="background-image: url('{{deal.image}}')">{{deal.subtitle}}</div>
					<div class="package__price">{{deal.price | currency : "EUR" : "symbol"}}</div>
					<div class="package__price-note"></div>
					<div class="package__separator"></div>
					<ul class="package__list">
						<li class="package__list-item" *ngFor="let description of deal.description">
							{{description.paragraph}}</li>
					</ul>
					<a href="{{deal.button.link}}" class="btn" target="blank">{{deal.button.title}}</a>
				</div>
			</div>
		</div>
	</div>
</section> -->

<section class="recent-releases-wrapper">
	<mk-heading
		[title]="'Recent Releases'"
		[subTitle]="'New Psychedelic Trance Music From Moon Koradji Records'"
		[route]="'/releases'">
	</mk-heading>

	<div class="recent-releases-inner">
		<ng-container *ngIf="releases$ | async as releases">
			<ng-container *ngFor="let release of releases; let i = index">
				<app-release-card *ngIf="(i < 4) && !release.isHero && !release.hidden" [releaseItem]="release">
				</app-release-card>
			</ng-container>
		</ng-container>
	</div>
</section>

<section class="podcast-wrapper">
	<app-podcast></app-podcast>

	<a routerLink="/merch" class="s-tshirt" *ngIf="false">
		<div class="s-tshirt__item s-tshirt__item--hidden">
			<img src="/assets/images/t-shirts/1/t-shirt-male-glowing.jpg" class="s-tshirt__img">
		</div>

		<div class="s-tshirt__item s-tshirt__item--vissible">
			<img src="/assets/images/t-shirts/1/t-shirt-male.jpg" class="s-tshirt__img">
		</div>

		<div class="s-tshirt__notification">Buy t-shirt with glowing print</div>

		<img class="s-gift" src="/assets/images/winter/gift-2.svg" alt="">
	</a>
</section>

<section class="featured-artists-wrapper" *ngIf="featuredGalleryItems">
	<mk-heading
		[title]="'Featured Artists'"
		[subTitle]="'Meet our talented featured artists'"
		[route]="'/artists'">
	</mk-heading>

	<app-shared-gallery [items]="featuredGalleryItems"></app-shared-gallery>
</section>

<section class="bottom">
	<div class="bottom__left">
		<div class="ringtones">
			<p class="ringtones__title">Download your ringtone</p>
			<ul class="ringtones__list">
				<li class="ringtones__item">
					<a href="/assets/music/ringtones/Moon_Koradji_-_Huvudverk.mp3" target="blank">
						<i class="fas fa-play"></i>Huvudverk
					</a>
				</li>
				<li class="ringtones__item">
					<a href="/assets/music/ringtones/Moon_Koradji_-_The_Other_Self.mp3" target="blank">
						<i class="fas fa-play"></i>The Other Self
					</a>
				</li>
			</ul>
		</div>
	
		<div class="news" *ngIf="news$ | async as news">
			<p class="news__header">More News</p>
	
			<div class="news__item" *ngFor="let item of news">
				<a *ngIf="!item.target" class="news__link" [routerLink]="item.link">
					<div class="news__image" [ngStyle]="{backgroundImage: 'url(' + item.image + ')'}"></div>
					<h1 class="news__desc">
						<span class="news__title">{{item.title}}</span>
						<br>
						<span class="news__info" *ngIf="item.text">{{item.text}}</span>
					</h1>
				</a>
	
				<a *ngIf="item.target" class="news__link" [attr.href]="item.link" [attr.target]="item.target">
					<div class="news__image" [ngStyle]="{backgroundImage: 'url(' + item.image + ')'}"></div>
					<h1 class="news__desc">
						<span class="news__title">{{item.title}}</span>
						<br>
						<span class="news__info" *ngIf="item.text">{{item.text}}</span>
					</h1>
				</a>
			</div>
		</div>
	</div>

	<div class="bottom__right">
		<div class="go-to-merch">
			<h2 class="go-to-merch__title">
				<a href="https://shop.spreadshirt.com/moon-koradji-records/" target="_blank">Visit our merch page</a>
			</h2>
			
			<div class="go-to-merch__content">
				<picture>
					<source srcset="./assets/images/merch/tshirt-1-w1.webp" type="image/webp">
					<img src="./assets/images/merch/tshirt-1-w1.png" alt="">
				</picture>
			</div>
		</div>
	</div>
</section>
